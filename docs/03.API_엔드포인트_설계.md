# API ì—”ë“œí¬ì¸íŠ¸ ì„¤ê³„ì„œ

## ê°œìš”

í¬íŠ¸í´ë¦¬ì˜¤ ë§¤ë‹ˆì € MVPë¥¼ ìœ„í•œ RESTful API ì—”ë“œí¬ì¸íŠ¸ ì„¤ê³„ì…ë‹ˆë‹¤.
ERD ì„¤ê³„ì„œì˜ 7ê°œ í•µì‹¬ ì—”í‹°í‹°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ CRUD APIì™€ ì¸ì¦/ê²€ìƒ‰ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

## í•µì‹¬ ì„¤ê³„ ì›ì¹™

- **RESTful ì„¤ê³„**: HTTP ë©”ì„œë“œì™€ ìƒíƒœì½”ë“œì˜ ì ì ˆí•œ ì‚¬ìš©
- **ì¼ê´€ëœ ì‘ë‹µ í˜•ì‹**: í‘œì¤€í™”ëœ JSON ì‘ë‹µ êµ¬ì¡°
- **ì ì ˆí•œ HTTP ìƒíƒœì½”ë“œ**: ì˜ë¯¸ë¡ ì ìœ¼ë¡œ ì˜¬ë°”ë¥¸ ìƒíƒœì½”ë“œ ì‚¬ìš©
- **í˜ì´ì§€ë„¤ì´ì…˜**: ëŒ€ìš©ëŸ‰ ë°ì´í„°ì— ëŒ€í•œ íš¨ìœ¨ì  ì²˜ë¦¬
- **ì—ëŸ¬ ì²˜ë¦¬**: êµ¬ì¡°í™”ëœ ì—ëŸ¬ ì‘ë‹µ
- **ì¸ì¦/ê¶Œí•œ**: JWT ê¸°ë°˜ ì¸ì¦ê³¼ ë¦¬ì†ŒìŠ¤ë³„ ê¶Œí•œ ì œì–´

## ğŸ”— API ë² ì´ìŠ¤ URL

```
ê°œë°œ: http://localhost:3000/api
í”„ë¡œë•ì…˜: https://portfolio-manager.example.com/api
```

## ğŸ“‹ ê³µí†µ ì‘ë‹µ í˜•ì‹

### ì„±ê³µ ì‘ë‹µ
```typescript
interface SuccessResponse<T> {
  success: true;
  data: T;
  message?: string;
  meta?: {
    total?: number;
    page?: number;
    pageSize?: number;
    totalPages?: number;
  };
}
```

### ì—ëŸ¬ ì‘ë‹µ
```typescript
interface ErrorResponse {
  success: false;
  error: {
    code: string;
    message: string;
    details?: any;
  };
  timestamp: string;
  path: string;
}
```

### HTTP ìƒíƒœì½”ë“œ ì •ì±…
- `200`: ì„±ê³µì ì¸ ì¡°íšŒ/ìˆ˜ì •
- `201`: ì„±ê³µì ì¸ ìƒì„±
- `204`: ì„±ê³µì ì¸ ì‚­ì œ (ì‘ë‹µ ë³¸ë¬¸ ì—†ìŒ)
- `400`: ì˜ëª»ëœ ìš”ì²­ (ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨)
- `401`: ì¸ì¦ ì‹¤íŒ¨
- `403`: ê¶Œí•œ ì—†ìŒ
- `404`: ë¦¬ì†ŒìŠ¤ ì—†ìŒ
- `409`: ì¶©ëŒ (ì¤‘ë³µ ë“±)
- `422`: ì²˜ë¦¬í•  ìˆ˜ ì—†ëŠ” ì—”í‹°í‹° (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì˜¤ë¥˜)
- `500`: ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜

## ğŸ” ì¸ì¦ API

### 1. ì†Œì…œ ë¡œê·¸ì¸ (OAuth)
```http
POST /api/auth/login/{provider}
```
**Parameters:**
- `provider`: github | google | linkedin

**Request:**
```json
{
  "code": "oauth_authorization_code",
  "state": "random_state_value"
}
```

**Response (200):**
```json
{
  "success": true,
  "data": {
    "user": {
      "id": "uuid",
      "email": "user@example.com",
      "name": "User Name",
      "avatar_url": "https://...",
      "role": "user"
    },
    "token": "jwt_token",
    "expires_at": "2024-12-31T23:59:59Z"
  }
}
```

### 2. ë¡œê·¸ì•„ì›ƒ
```http
POST /api/auth/logout
Authorization: Bearer {token}
```

**Response (204):** No Content

### 3. í† í° ê°±ì‹ 
```http
POST /api/auth/refresh
Authorization: Bearer {token}
```

**Response (200):**
```json
{
  "success": true,
  "data": {
    "token": "new_jwt_token",
    "expires_at": "2024-12-31T23:59:59Z"
  }
}
```

### 4. í˜„ì¬ ì‚¬ìš©ì ì •ë³´
```http
GET /api/auth/me
Authorization: Bearer {token}
```

**Response (200):**
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "email": "user@example.com",
    "name": "User Name",
    "avatar_url": "https://...",
    "bio": "User bio",
    "website_url": "https://...",
    "github_username": "username",
    "linkedin_url": "https://...",
    "role": "user",
    "is_verified": true,
    "created_at": "2024-01-01T00:00:00Z"
  }
}
```

## ğŸ‘¤ ì‚¬ìš©ì API

### 1. ì‚¬ìš©ì ëª©ë¡ ì¡°íšŒ (Admin Only)
```http
GET /api/users?page=1&pageSize=20&search=keyword
Authorization: Bearer {admin_token}
```

**Query Parameters:**
- `page`: í˜ì´ì§€ ë²ˆí˜¸ (ê¸°ë³¸ê°’: 1)
- `pageSize`: í˜ì´ì§€ í¬ê¸° (ê¸°ë³¸ê°’: 20, ìµœëŒ€ê°’: 100)
- `search`: ê²€ìƒ‰ í‚¤ì›Œë“œ (ì´ë¦„, ì´ë©”ì¼)

### 2. ì‚¬ìš©ì ìƒì„¸ ì¡°íšŒ
```http
GET /api/users/{userId}
Authorization: Bearer {token}
```

**Response (200):**
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "name": "User Name",
    "avatar_url": "https://...",
    "bio": "User bio",
    "website_url": "https://...",
    "github_username": "username",
    "linkedin_url": "https://...",
    "created_at": "2024-01-01T00:00:00Z",
    "project_count": 5,
    "public_project_count": 3
  }
}
```

### 3. ì‚¬ìš©ì ì •ë³´ ìˆ˜ì •
```http
PATCH /api/users/{userId}
Authorization: Bearer {token}
```

**Request:**
```json
{
  "name": "Updated Name",
  "bio": "Updated bio",
  "website_url": "https://newsite.com",
  "github_username": "newusername",
  "linkedin_url": "https://linkedin.com/in/newusername"
}
```

**Validation Rules:**
- `name`: í•„ìˆ˜, 1-100ì
- `bio`: ì„ íƒ, ìµœëŒ€ 500ì
- `website_url`: ì„ íƒ, ìœ íš¨í•œ URL
- `github_username`: ì„ íƒ, 1-100ì, GitHub username í˜•ì‹
- `linkedin_url`: ì„ íƒ, ìœ íš¨í•œ LinkedIn URL

## ğŸ“ í”„ë¡œì íŠ¸ API

### 1. í”„ë¡œì íŠ¸ ëª©ë¡ ì¡°íšŒ
```http
GET /api/projects?page=1&pageSize=20&owner={userId}&visibility=public&status=active&search=keyword&tech_stack=react,typescript&featured=true
```

**Query Parameters:**
- `page`: í˜ì´ì§€ ë²ˆí˜¸ (ê¸°ë³¸ê°’: 1)
- `pageSize`: í˜ì´ì§€ í¬ê¸° (ê¸°ë³¸ê°’: 20, ìµœëŒ€ê°’: 100)
- `owner`: ì†Œìœ ì ID (ë³¸ì¸ í”„ë¡œì íŠ¸ ì¡°íšŒ ì‹œ)
- `visibility`: public | private | unlisted
- `status`: draft | active | archived
- `search`: ì œëª©, ì„¤ëª…ì—ì„œ ê²€ìƒ‰
- `tech_stack`: ê¸°ìˆ  ìŠ¤íƒ í•„í„° (ì‰¼í‘œ êµ¬ë¶„)
- `featured`: true (ëŒ€í‘œ í”„ë¡œì íŠ¸ë§Œ)
- `sort`: created_at | updated_at | view_count | like_count (ê¸°ë³¸ê°’: created_at)
- `order`: asc | desc (ê¸°ë³¸ê°’: desc)

**Response (200):**
```json
{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "slug": "my-awesome-project",
      "title": "My Awesome Project",
      "description": "Project description",
      "tech_stack": ["React", "TypeScript", "Next.js"],
      "categories": ["Web", "Frontend"],
      "tags": ["opensource", "personal"],
      "status": "active",
      "visibility": "public",
      "featured": true,
      "view_count": 150,
      "like_count": 25,
      "created_at": "2024-01-01T00:00:00Z",
      "updated_at": "2024-01-15T00:00:00Z",
      "published_at": "2024-01-02T00:00:00Z",
      "owner": {
        "id": "uuid",
        "name": "Owner Name",
        "avatar_url": "https://..."
      },
      "github_repository": {
        "github_url": "https://github.com/user/repo",
        "stars": 10,
        "forks": 3,
        "language": "TypeScript"
      }
    }
  ],
  "meta": {
    "total": 50,
    "page": 1,
    "pageSize": 20,
    "totalPages": 3
  }
}
```

### 2. í”„ë¡œì íŠ¸ ìƒì„¸ ì¡°íšŒ
```http
GET /api/projects/{projectId}
```

**Response (200):**
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "slug": "my-awesome-project",
    "title": "My Awesome Project",
    "description": "Detailed project description",
    "content": {
      "markdown": "# Project Content\n...",
      "sections": [
        {
          "type": "overview",
          "title": "Overview",
          "content": "..."
        }
      ]
    },
    "tech_stack": ["React", "TypeScript", "Next.js"],
    "categories": ["Web", "Frontend"],
    "tags": ["opensource", "personal"],
    "status": "active",
    "visibility": "public",
    "featured": true,
    "view_count": 150,
    "like_count": 25,
    "created_at": "2024-01-01T00:00:00Z",
    "updated_at": "2024-01-15T00:00:00Z",
    "published_at": "2024-01-02T00:00:00Z",
    "owner": {
      "id": "uuid",
      "name": "Owner Name",
      "avatar_url": "https://...",
      "bio": "Owner bio"
    },
    "github_repository": {
      "id": "uuid",
      "github_url": "https://github.com/user/repo",
      "repository_name": "user/repo",
      "stars": 10,
      "forks": 3,
      "watchers": 5,
      "language": "TypeScript",
      "license": "MIT",
      "is_private": false,
      "last_commit_date": "2024-01-15T00:00:00Z",
      "last_synced_at": "2024-01-15T01:00:00Z"
    },
    "media": [
      {
        "id": "uuid",
        "type": "image",
        "file_name": "screenshot.png",
        "file_path": "/uploads/projects/uuid/screenshot.png",
        "width": 1920,
        "height": 1080,
        "alt_text": "Project screenshot"
      }
    ],
    "note_count": 15,
    "note_summary": {
      "learn": 8,
      "change": 5,
      "research": 2
    }
  }
}
```

### 3. í”„ë¡œì íŠ¸ ìƒì„±
```http
POST /api/projects
Authorization: Bearer {token}
```

**Request:**
```json
{
  "title": "New Project",
  "description": "Project description",
  "slug": "new-project",
  "content": {
    "markdown": "# Project Content\n...",
    "sections": []
  },
  "tech_stack": ["React", "TypeScript"],
  "categories": ["Web"],
  "tags": ["personal"],
  "visibility": "private",
  "github_url": "https://github.com/user/repo"
}
```

**Validation Rules:**
- `title`: í•„ìˆ˜, 1-200ì
- `description`: ì„ íƒ, ìµœëŒ€ 1000ì
- `slug`: í•„ìˆ˜, 1-100ì, URL-safe ë¬¸ìë§Œ, ì†Œìœ ì ë‚´ ìœ ì¼
- `content`: ì„ íƒ, JSONB í˜•ì‹
- `tech_stack`: ì„ íƒ, ë°°ì—´, ê° í•­ëª© 1-50ì
- `categories`: ì„ íƒ, ë°°ì—´, ê° í•­ëª© 1-50ì  
- `tags`: ì„ íƒ, ë°°ì—´, ê° í•­ëª© 1-30ì
- `visibility`: public | private | unlisted (ê¸°ë³¸ê°’: private)
- `github_url`: ì„ íƒ, ìœ íš¨í•œ GitHub URL

### 4. í”„ë¡œì íŠ¸ ìˆ˜ì •
```http
PATCH /api/projects/{projectId}
Authorization: Bearer {token}
```

**ê¶Œí•œ**: ì†Œìœ ìë§Œ

### 5. í”„ë¡œì íŠ¸ ì‚­ì œ
```http
DELETE /api/projects/{projectId}
Authorization: Bearer {token}
```

**ê¶Œí•œ**: ì†Œìœ ìë§Œ
**Response (204):** No Content

### 6. í”„ë¡œì íŠ¸ ìƒíƒœ ë³€ê²½
```http
PATCH /api/projects/{projectId}/status
Authorization: Bearer {token}
```

**Request:**
```json
{
  "status": "active"
}
```

**Available Status Transitions:**
- `draft` â†’ `active` (ë°œí–‰)
- `active` â†’ `archived` (ë³´ê´€)
- `archived` â†’ `active` (ë³µêµ¬)
- `*` â†’ `deleted` (ì‚­ì œ)

### 7. í”„ë¡œì íŠ¸ ì¡°íšŒìˆ˜ ì¦ê°€
```http
POST /api/projects/{projectId}/views
```

**Response (200):**
```json
{
  "success": true,
  "data": {
    "view_count": 151
  }
}
```

## ğŸ—’ï¸ ë…¸íŠ¸ API

### 1. ë…¸íŠ¸ ëª©ë¡ ì¡°íšŒ
```http
GET /api/projects/{projectId}/notes?type=learn&page=1&pageSize=20&search=keyword&pinned=true&archived=false
Authorization: Bearer {token}
```

**Query Parameters:**
- `type`: learn | change | research
- `page`: í˜ì´ì§€ ë²ˆí˜¸ (ê¸°ë³¸ê°’: 1)
- `pageSize`: í˜ì´ì§€ í¬ê¸° (ê¸°ë³¸ê°’: 20, ìµœëŒ€ê°’: 100)
- `search`: ì œëª©, ë‚´ìš©ì—ì„œ ê²€ìƒ‰
- `pinned`: true | false (ê³ ì •ëœ ë…¸íŠ¸ë§Œ)
- `archived`: true | false (ë³´ê´€ëœ ë…¸íŠ¸ í¬í•¨)
- `tags`: ì‰¼í‘œë¡œ êµ¬ë¶„ëœ íƒœê·¸ í•„í„°

**ê¶Œí•œ**: í”„ë¡œì íŠ¸ ì†Œìœ ìë§Œ

### 2. ë…¸íŠ¸ ìƒì„¸ ì¡°íšŒ
```http
GET /api/notes/{noteId}
Authorization: Bearer {token}
```

**Response (200):**
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "project_id": "uuid",
    "type": "learn",
    "title": "Learning Note Title",
    "content": {
      "markdown": "# Note Content\n...",
      "blocks": [
        {
          "type": "text",
          "content": "Note content..."
        }
      ]
    },
    "tags": ["javascript", "react"],
    "is_pinned": false,
    "is_archived": false,
    "created_at": "2024-01-01T00:00:00Z",
    "updated_at": "2024-01-15T00:00:00Z",
    "project": {
      "id": "uuid",
      "title": "Project Title",
      "slug": "project-slug"
    },
    "media": [
      {
        "id": "uuid",
        "type": "image",
        "file_name": "diagram.png",
        "file_path": "/uploads/notes/uuid/diagram.png"
      }
    ]
  }
}
```

### 3. ë…¸íŠ¸ ìƒì„±
```http
POST /api/projects/{projectId}/notes
Authorization: Bearer {token}
```

**Request:**
```json
{
  "type": "learn",
  "title": "New Learning Note",
  "content": {
    "markdown": "# Note Content\n...",
    "blocks": []
  },
  "tags": ["javascript", "react"],
  "is_pinned": false
}
```

**Validation Rules:**
- `type`: í•„ìˆ˜, learn | change | research
- `title`: í•„ìˆ˜, 1-200ì
- `content`: í•„ìˆ˜, JSONB í˜•ì‹
- `tags`: ì„ íƒ, ë°°ì—´, ê° í•­ëª© 1-30ì
- `is_pinned`: ì„ íƒ, boolean (ê¸°ë³¸ê°’: false)

### 4. ë…¸íŠ¸ ìˆ˜ì •
```http
PATCH /api/notes/{noteId}
Authorization: Bearer {token}
```

### 5. ë…¸íŠ¸ ì‚­ì œ
```http
DELETE /api/notes/{noteId}
Authorization: Bearer {token}
```

### 6. ë…¸íŠ¸ í•€/ì–¸í•€
```http
PATCH /api/notes/{noteId}/pin
Authorization: Bearer {token}
```

**Request:**
```json
{
  "is_pinned": true
}
```

### 7. ë…¸íŠ¸ ë³´ê´€/ë³µêµ¬
```http
PATCH /api/notes/{noteId}/archive
Authorization: Bearer {token}
```

**Request:**
```json
{
  "is_archived": true
}
```

## ğŸ“¸ ë¯¸ë””ì–´ API

### 1. ë¯¸ë””ì–´ ì—…ë¡œë“œ
```http
POST /api/media/upload
Authorization: Bearer {token}
Content-Type: multipart/form-data
```

**Request:**
```
file: [íŒŒì¼]
target_type: project | note
target_id: uuid
alt_text: "Alternative text"
```

**File Validation:**
- **ì§€ì› í˜•ì‹**: jpg, jpeg, png, gif, webp, mp4, mov, pdf, zip
- **ìµœëŒ€ í¬ê¸°**: 10MB (ì´ë¯¸ì§€), 50MB (ë¹„ë””ì˜¤), 25MB (ë¬¸ì„œ)
- **ë³´ì•ˆ ê²€ì‚¬**: íŒŒì¼ ì‹œê·¸ë‹ˆì²˜ ê²€ì¦, ì•…ì„± íŒŒì¼ ìŠ¤ìº”

**Response (201):**
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "target_type": "project",
    "target_id": "uuid",
    "original_name": "screenshot.png",
    "file_name": "uuid_screenshot.png",
    "file_path": "/uploads/projects/uuid/screenshot.png",
    "file_size": 1024000,
    "mime_type": "image/png",
    "type": "image",
    "width": 1920,
    "height": 1080,
    "is_public": false,
    "alt_text": "Project screenshot",
    "created_at": "2024-01-01T00:00:00Z"
  }
}
```

### 2. ë¯¸ë””ì–´ ëª©ë¡ ì¡°íšŒ
```http
GET /api/media?target_type=project&target_id=uuid&type=image&page=1&pageSize=20
Authorization: Bearer {token}
```

### 3. ë¯¸ë””ì–´ ì •ë³´ ìˆ˜ì •
```http
PATCH /api/media/{mediaId}
Authorization: Bearer {token}
```

**Request:**
```json
{
  "alt_text": "Updated alternative text",
  "is_public": true
}
```

### 4. ë¯¸ë””ì–´ ì‚­ì œ
```http
DELETE /api/media/{mediaId}
Authorization: Bearer {token}
```

**Response (204):** No Content

### 5. ë¯¸ë””ì–´ íŒŒì¼ ì ‘ê·¼
```http
GET /api/media/{mediaId}/file
```

**ê³µê°œ ë¯¸ë””ì–´**: ì¸ì¦ ì—†ì´ ì ‘ê·¼ ê°€ëŠ¥
**ë¹„ê³µê°œ ë¯¸ë””ì–´**: ì†Œìœ ì ì¸ì¦ í•„ìš”

**Response**: íŒŒì¼ ìŠ¤íŠ¸ë¦¼ ë˜ëŠ” Redirect to CDN URL

## ğŸ” ê²€ìƒ‰ API

### 1. ì „ì—­ ê²€ìƒ‰
```http
GET /api/search?q=keyword&type=all&page=1&pageSize=20&user_id=uuid
```

**Query Parameters:**
- `q`: ê²€ìƒ‰ í‚¤ì›Œë“œ (í•„ìˆ˜, ìµœì†Œ 2ì)
- `type`: all | projects | notes | users (ê¸°ë³¸ê°’: all)
- `page`: í˜ì´ì§€ ë²ˆí˜¸ (ê¸°ë³¸ê°’: 1)
- `pageSize`: í˜ì´ì§€ í¬ê¸° (ê¸°ë³¸ê°’: 20, ìµœëŒ€ê°’: 50)
- `user_id`: íŠ¹ì • ì‚¬ìš©ìì˜ ì½˜í…ì¸ ë§Œ ê²€ìƒ‰

**Response (200):**
```json
{
  "success": true,
  "data": {
    "projects": [
      {
        "id": "uuid",
        "title": "Project Title",
        "description": "Project description...",
        "highlight": {
          "title": "Project <mark>Title</mark>",
          "description": "Project <mark>description</mark>..."
        },
        "type": "project",
        "owner": {
          "name": "Owner Name",
          "avatar_url": "https://..."
        }
      }
    ],
    "notes": [
      {
        "id": "uuid",
        "title": "Note Title",
        "content_preview": "Note content preview...",
        "highlight": {
          "title": "Note <mark>Title</mark>",
          "content": "Note content <mark>preview</mark>..."
        },
        "type": "note",
        "note_type": "learn",
        "project": {
          "title": "Project Title",
          "slug": "project-slug"
        }
      }
    ],
    "users": [
      {
        "id": "uuid",
        "name": "User Name",
        "bio": "User bio...",
        "highlight": {
          "name": "User <mark>Name</mark>",
          "bio": "User <mark>bio</mark>..."
        },
        "type": "user",
        "project_count": 5
      }
    ]
  },
  "meta": {
    "total": 45,
    "page": 1,
    "pageSize": 20,
    "totalPages": 3,
    "search_time": "0.045s"
  }
}
```

### 2. ìë™ì™„ì„± ê²€ìƒ‰
```http
GET /api/search/autocomplete?q=keyword&limit=10
```

**Response (200):**
```json
{
  "success": true,
  "data": {
    "suggestions": [
      {
        "text": "React Hook",
        "type": "project",
        "count": 3
      },
      {
        "text": "React Router",
        "type": "note",
        "count": 7
      }
    ]
  }
}
```

### 3. ì¸ê¸° ê²€ìƒ‰ì–´
```http
GET /api/search/trending?limit=10&period=week
```

**Query Parameters:**
- `limit`: ê²°ê³¼ ìˆ˜ (ê¸°ë³¸ê°’: 10, ìµœëŒ€ê°’: 20)
- `period`: day | week | month (ê¸°ë³¸ê°’: week)

## ğŸ™ GitHub ì €ì¥ì†Œ API

### 1. GitHub ì €ì¥ì†Œ ì—°ë™
```http
POST /api/projects/{projectId}/github
Authorization: Bearer {token}
```

**Request:**
```json
{
  "github_url": "https://github.com/user/repo"
}
```

**Response (201):**
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "project_id": "uuid",
    "github_url": "https://github.com/user/repo",
    "repository_name": "user/repo",
    "stars": 10,
    "forks": 3,
    "watchers": 5,
    "language": "TypeScript",
    "license": "MIT",
    "is_private": false,
    "last_commit_date": "2024-01-15T00:00:00Z",
    "last_synced_at": "2024-01-15T01:00:00Z",
    "is_sync_enabled": true
  }
}
```

### 2. GitHub ì •ë³´ ë™ê¸°í™”
```http
POST /api/github/{githubRepoId}/sync
Authorization: Bearer {token}
```

**Response (200):**
```json
{
  "success": true,
  "data": {
    "synced_at": "2024-01-15T01:00:00Z",
    "changes": {
      "stars": 11,
      "forks": 3,
      "last_commit_date": "2024-01-15T00:00:00Z"
    }
  }
}
```

### 3. GitHub ì €ì¥ì†Œ ì—°ë™ í•´ì œ
```http
DELETE /api/github/{githubRepoId}
Authorization: Bearer {token}
```

## ğŸš¦ API ìƒíƒœ ë° í—¬ìŠ¤ì²´í¬

### 1. API ìƒíƒœ í™•ì¸
```http
GET /api/health
```

**Response (200):**
```json
{
  "success": true,
  "data": {
    "status": "healthy",
    "timestamp": "2024-01-15T12:00:00Z",
    "version": "1.0.0",
    "uptime": "72h 15m 30s",
    "services": {
      "database": "healthy",
      "redis": "healthy",
      "storage": "healthy"
    }
  }
}
```

### 2. API ì •ë³´
```http
GET /api/info
```

**Response (200):**
```json
{
  "success": true,
  "data": {
    "name": "Portfolio Manager API",
    "version": "1.0.0",
    "description": "Portfolio management and note-taking platform",
    "documentation": "https://api-docs.portfolio-manager.com",
    "support": "support@portfolio-manager.com"
  }
}
```

## ğŸ“Š ì—ëŸ¬ ì²˜ë¦¬ ì„¸ë¶€ì‚¬í•­

### ìœ íš¨ì„± ê²€ì‚¬ ì—ëŸ¬ (400)
```json
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "ìš”ì²­ ë°ì´í„°ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.",
    "details": {
      "title": ["ì œëª©ì€ í•„ìˆ˜ì…ë‹ˆë‹¤.", "ì œëª©ì€ ìµœëŒ€ 200ìê¹Œì§€ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤."],
      "email": ["ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤."]
    }
  },
  "timestamp": "2024-01-15T12:00:00Z",
  "path": "/api/projects"
}
```

### ì¸ì¦ ì—ëŸ¬ (401)
```json
{
  "success": false,
  "error": {
    "code": "UNAUTHORIZED",
    "message": "ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.",
    "details": {
      "reason": "TOKEN_EXPIRED"
    }
  },
  "timestamp": "2024-01-15T12:00:00Z",
  "path": "/api/projects"
}
```

### ê¶Œí•œ ì—ëŸ¬ (403)
```json
{
  "success": false,
  "error": {
    "code": "FORBIDDEN",
    "message": "í•´ë‹¹ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•  ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.",
    "details": {
      "required_role": "owner",
      "current_role": "viewer"
    }
  },
  "timestamp": "2024-01-15T12:00:00Z",
  "path": "/api/projects/uuid"
}
```

### ë¦¬ì†ŒìŠ¤ ì—†ìŒ (404)
```json
{
  "success": false,
  "error": {
    "code": "NOT_FOUND",
    "message": "ìš”ì²­í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
    "details": {
      "resource": "project",
      "id": "uuid"
    }
  },
  "timestamp": "2024-01-15T12:00:00Z",
  "path": "/api/projects/uuid"
}
```

## ğŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### 1. ì¸ì¦ ë° ê¶Œí•œ
- **JWT í† í°**: ë§Œë£Œ ì‹œê°„ ì„¤ì • (ê¸°ë³¸ 24ì‹œê°„)
- **Refresh Token**: ì¥ê¸°ê°„ ìœ ì§€ (30ì¼)
- **Rate Limiting**: IPë³„ ìš”ì²­ ì œí•œ (1ë¶„ì— 60íšŒ)
- **CORS**: í—ˆìš©ëœ ë„ë©”ì¸ë§Œ ì ‘ê·¼ ê°€ëŠ¥

### 2. ë°ì´í„° ê²€ì¦
- **ì…ë ¥ ê²€ì¦**: ëª¨ë“  ì‚¬ìš©ì ì…ë ¥ ì„œë²„ ì‚¬ì´ë“œ ê²€ì¦
- **SQL Injection ë°©ì§€**: íŒŒë¼ë¯¸í„°í™”ëœ ì¿¼ë¦¬ ì‚¬ìš©
- **XSS ë°©ì§€**: HTML ì¶œë ¥ ì‹œ ì´ìŠ¤ì¼€ì´í”„ ì²˜ë¦¬
- **CSRF ë°©ì§€**: SameSite ì¿ í‚¤ ì„¤ì •

### 3. íŒŒì¼ ì—…ë¡œë“œ ë³´ì•ˆ
- **íŒŒì¼ íƒ€ì… ê²€ì¦**: MIME íƒ€ì… + íŒŒì¼ ì‹œê·¸ë‹ˆì²˜ í™•ì¸
- **íŒŒì¼ í¬ê¸° ì œí•œ**: íƒ€ì…ë³„ ì ì ˆí•œ í¬ê¸° ì œí•œ
- **ì•…ì„± íŒŒì¼ ìŠ¤ìº”**: ì—…ë¡œë“œ íŒŒì¼ ë³´ì•ˆ ê²€ì‚¬
- **ì•ˆì „í•œ íŒŒì¼ëª…**: UUID ê¸°ë°˜ íŒŒì¼ëª… ìƒì„±

### 4. API ë³´ì•ˆ
- **HTTPS ê°•ì œ**: ëª¨ë“  API ìš”ì²­ HTTPS ì‚¬ìš©
- **ë³´ì•ˆ í—¤ë”**: HSTS, X-Frame-Options ë“± ì„¤ì •
- **ë¡œê¹…**: ëª¨ë“  API ìš”ì²­/ì‘ë‹µ ë¡œê·¸ ê¸°ë¡
- **ì—ëŸ¬ ì •ë³´ ì œí•œ**: í”„ë¡œë•ì…˜ì—ì„œ ìƒì„¸ ì—ëŸ¬ ì •ë³´ ìˆ¨ê¹€

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

### 1. ìºì‹± ì „ëµ
- **ê³µê°œ í”„ë¡œì íŠ¸**: 5ë¶„ ìºì‹œ
- **ì‚¬ìš©ì ì •ë³´**: 30ë¶„ ìºì‹œ
- **ê²€ìƒ‰ ê²°ê³¼**: 1ë¶„ ìºì‹œ
- **ë¯¸ë””ì–´ íŒŒì¼**: CDN + ì˜êµ¬ ìºì‹œ

### 2. í˜ì´ì§€ë„¤ì´ì…˜
- **ê¸°ë³¸ í˜ì´ì§€ í¬ê¸°**: 20ê°œ
- **ìµœëŒ€ í˜ì´ì§€ í¬ê¸°**: 100ê°œ
- **Cursor ê¸°ë°˜**: ëŒ€ìš©ëŸ‰ ë°ì´í„° íš¨ìœ¨ì  ì²˜ë¦¬

### 3. ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”
- **ì¸ë±ìŠ¤ í™œìš©**: ERD ì„¤ê³„ì„œì˜ ì¸ë±ìŠ¤ ì „ëµ ì ìš©
- **N+1 ì¿¼ë¦¬ ë°©ì§€**: JOIN ë˜ëŠ” ë°°ì¹˜ ë¡œë”© ì‚¬ìš©
- **connection pooling**: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ìµœì í™”

## ğŸš€ í–¥í›„ í™•ì¥ ê³„íš

### Phase 2 ì¶”ê°€ API
- **Site ë°°í¬ API**: ì„œë¸Œë„ë©”ì¸ ê´€ë¦¬
- **Deployment API**: ë°°í¬ ì´ë ¥ ê´€ë¦¬
- **Analytics API**: ë°©ë¬¸ í†µê³„

### Phase 3 ì¶”ê°€ API
- **Team API**: íŒ€ í˜‘ì—… ê¸°ëŠ¥
- **Notification API**: ì‹¤ì‹œê°„ ì•Œë¦¼
- **Webhook API**: ì™¸ë¶€ ì„œë¹„ìŠ¤ ì—°ë™

### Phase 4 ì¶”ê°€ API
- **AI API**: ì»¨í…ì¸  ìë™ ìƒì„±
- **Integration API**: ì™¸ë¶€ í”Œë«í¼ ì—°ë™
- **GraphQL API**: ìœ ì—°í•œ ë°ì´í„° ì¡°íšŒ

---

**ë‹¤ìŒ ë‹¨ê³„**: Next.js 14 í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì • ë° API ë¼ìš°íŠ¸ êµ¬í˜„